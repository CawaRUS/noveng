# Документация команд NovEng v0.3

В этом файле перечислены все команды, доступные в движке. Команды пишутся в файлах сценария в формате `команда:аргумент1|аргумент2`.

### Доступные команды:

| Команда | Аргументы | Описание |
| :--- | :--- | :--- |
| `play` | `file.mp3\|loop` | Запуск музыки из `res/music/`. Флаг `loop` зацикливает трек. |
| `sfx` | `file.wav` | Однократное воспроизведение звукового эффекта из `res/sfx/`. |
| `stop_music` | - | Полная остановка всей фоновой музыки. |
| `color` | `Имя\|Код` | Задает ANSI-цвет для имени персонажа (напр. `32` — зеленый, `31` — красный). |
| `clear` | - | Полная очистка экрана консоли. |
| `next_chapter` | `file.txt` | Мгновенный переход к следующему файлу сценария. |
| `set` | `key\|value` | Создает или изменяет переменную (число). Полезно для флагов сюжета. |
| `chance` | `%\|file1\|file2` | С вероятностью `%` переходит к `file1`, иначе к `file2`. |
| `if` | `key\|val\|f1\|f2` | Если переменная `key` >= `val`, загружает `f1`, иначе `f2`. |
| `choice` | `T1\|F1\|T2\|F2...` | Выводит список выборов. Игрок выбирает цифрой нужный файл. |

---

### Примеры использования в сценарии:

**Работа с цветом и звуком:**
```
{color:Сталкер|31}
{play:ambient_dark.mp3|loop}
[Сталкер]
Ты не должен был сюда приходить...
{sfx:scary_whisper.wav}
```

**Логика и переходы:**
```
{set:trust_level|5}
{choice:Довериться ему|trust_route.txt|Уйти|exit_route.txt}
```

**Проверка условий:**
```
{if:trust_level|10|good_ending.txt|neutral_ending.txt}
```
